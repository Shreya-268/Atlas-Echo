<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Write Your Story - Atlas Echo</title>
  <link rel="stylesheet" href="css/write.css" />
</head>
<body>

<header class="write-header">
  <a href="index.html" class="home-btn">ğŸ  Home</a>
  <a href="drafts.html" class="view-drafts-btn">ğŸ“„ View Drafts</a>
  <h1>ğŸŒ¿ Write Your Travel Story</h1>
  <p class="subtitle">Let the earth inspire your words.</p>
</header>

<main class="editor-container">
  <input type="text" class="blog-title" placeholder="Enter your blog title here..." />
  
  <textarea class="blog-body" placeholder="Start describing your adventure..."></textarea>
  
  <div class="editor-actions">
    <button class="save-btn">ğŸŒ± Save Draft</button>
    <button class="publish-btn">ğŸŒ¼ Publish Blog</button>
  </div>
</main>

<footer class="write-footer">
  âœ¨ Every journey has a story. Let yours echo forever.
</footer>

<script>
// ========== Preload draft if editing ==========
const editing = JSON.parse(localStorage.getItem("editingDraft"));
if (editing) {
  document.querySelector(".blog-title").value = editing.title;
  document.querySelector(".blog-body").value = editing.content;

  localStorage.removeItem("editingDraft");

  const drafts = JSON.parse(localStorage.getItem("drafts")) || [];
  const updated = drafts.filter(d => d.id !== editing.id);
  localStorage.setItem("drafts", JSON.stringify(updated));
}

// ========== Save Draft ==========
document.querySelector(".save-btn").addEventListener("click", () => {
  const title = document.querySelector(".blog-title").value.trim();
  const content = document.querySelector(".blog-body").value.trim();

  if (!title || !content) {
    alert("Please fill in both title and content.");
    return;
  }

  const draft = {
    id: Date.now(),
    title,
    content,
    timestamp: new Date().toLocaleString()
  };

  const savedDrafts = JSON.parse(localStorage.getItem("drafts")) || [];
  savedDrafts.push(draft);
  localStorage.setItem("drafts", JSON.stringify(savedDrafts));

  alert("Draft saved successfully!");
  window.location.href = "drafts.html";
});

// ========== Publish Blog ==========
document.querySelector(".publish-btn").addEventListener("click", () => {
  alert("ğŸŒ¼ Blog published (you can customize this logic)!");
});
</script>

</body>
</html>
